<div class="singlesignon-login" id="singlesignon-container">
    <h3 class="singlesignon-login-title text-center">{{ title }}</h3>
    <div class="singlesignon-login-buttons d-grid gap-2">
        {% for button in buttons %}
            <a class="btn btn-outline-primary singlesignon-login-button" href="{{ button.href }}"
               {% if button.style %}style="{{ button.style }}"{% endif %}
               {% if button.popup %}data-singlesignon-popup="true"{% endif %}>
                {% if button.picture %}
                    <img src="{{ button.picture }}" alt="" class="singlesignon-login-picture"/>
                {% endif %}
                <span>{{ button.label }}</span>
            </a>
        {% endfor %}
    </div>
    <div class="singlesignon-login-classic text-center">
        <a class="btn btn-link" href="{{ classic_url }}">
            {{ classic_label }}
        </a>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const params = new URLSearchParams(window.location.search);
    const container = document.getElementById('singlesignon-container');
    if (!container) {
        return;
    }
    const formColumn = document.querySelector('.row.justify-content-center .col-md-5');
    const pluginColumn = container.closest('.col-auto');
    if (params.get('noAUTO') === '1') {
        if (pluginColumn) {
            pluginColumn.style.display = 'block';
        }
        return;
    }
    if (formColumn) {
        formColumn.style.display = 'none';
    }
    if (pluginColumn) {
        pluginColumn.classList.remove('col-auto', 'px-2', 'text-center');
        pluginColumn.classList.add('col-12', 'col-md-6');
        pluginColumn.classList.add('d-flex', 'justify-content-center');
    }
});
</script>
